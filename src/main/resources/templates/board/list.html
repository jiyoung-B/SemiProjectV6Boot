<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultra.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/template}">
<th:block layout:fragment="content">
    <div id="main">
        <div class="mt-5">
            <i class="fa-solid fa-pen-to-square fa-2xl"> 게시판 </i>
            <hr>
        </div>

        <div class="row mt-5">
            <div class="row offset-2 col-6">
                <c:if test="${not empty sessionScope.UID}">
                    <div class="col-3">
                        <select class="form-select" id="findtype">
                            <option value="title">제목</option>
                            <option value="titcont">제목+내용</option>
                            <option value="contents">내용</option>
                            <option value="userid">작성자</option>
                        </select></div>
                    <div class="col-4"><input type="text" class="form-control col-2" id="findkey" th:value="${param.fkey}"></div>
                    <div class="col-3">
                        <button type="button" class="btn btn-light" id="findbtn">
                            <i class="fa fa-magnifying-glass"> </i> 검색하기</button></div>
                </c:if>
                <c:if test="${empty sessionScope.UID}">&nbsp;</c:if>
            </div>
            <div class="col-2 text-end">
                <c:if test="${not empty sessionScope.UID}">
                    <button type="button" class="btn btn-light" id="newbtn">
                        <i class="fa fa-plus-circle"> </i> 새글쓰기</button>
                </c:if>
                <c:if test="${empty sessionScope.UID}">&nbsp;</c:if>
            </div>
        </div>
        <div class="row mt-2">
            <div class="offset-2 col-8">
                <table class="table table-striped tbborder">
                    <thead class="thbg">
                    <tr><th style="width: 7%">번호</th>
                        <th>제목</th>
                        <th style="width: 10%">작성자</th>
                        <th style="width: 10%">작성일</th>
                        <th style="width: 7%">추천</th>
                        <th style="width: 7%">조회</th></tr>
                    </thead>

                    <tbody>

                    <tr>
                        <th>공지</th>
                        <th><span class="badge text-bg-danger">Hot!</span>
                            석가탄신일·성탄절 대체공휴일 확정</th>
                        <th>운영자</th>
                        <th>2023-05-04</th>
                        <th>175</th>
                        <th>1345</th>
                    </tr>

                        <tr th:each="bd : ${bdlist}">
                            <td th:text="${bd.bno}">${bd.bno}</td>
                      <!--      <td><a th:href="@{/board/view(bno=${bd.bno})}">${bd.title}</a></td>
                       -->
                            <td><a th:href="@{/board/view(bno=${bd.bno})}" th:text="${bd.title}">타이틀</a></td>
                            <td th:text="${bd.userid}"></td>
                            <td th:text="${#strings.substring(bd.regdate, 0, 10)}">${fn:substring(bd.regdate, 0, 10)}</td>
                            <td th:text="${bd.thumbs}">${bd.thumbs}</td>
                            <td th:text="${bd.views}">${bd.views}</td>
                        </tr>


                    </tbody>

                </table>

            </div>

        </div>




        <div class="row">
            <div class="offset-2 col-8 text-end">
                <nav>
                    <ul class="pagination justify-content-center">


                        <li class="page-item" th:classappend="${cpg gt 1} ? '' : 'disabled'">
                            <a class="page-link" href="${pglink}1">처음</a></li>


                        <li class="page-item" th:classappend="${cpg-1 gt 0} ? '' : 'disabled'">
                            <a class="page-link" th:href="${pglink}${cpg-1}">이전</a>
                        </li>


<!--                        <li class="page-item">-->
<!--                        <a class="page-link" href="${pglink}${cpg-1}">이전</a></li>-->

         <!--               <c:forEach var="i" begin="${stpg}" end="${stpg + 10 - 1}">
                            <c:if test="${i le cntpg}">
                                <c:if test="${i ne cpg}"><li class="page-item"></c:if>
                                <c:if test="${i eq cpg}"><li class="page-item active"></c:if>
                                <a class="page-link" href="${pglink}${i}">${i}</a></li>
                            </c:if>

                        </c:forEach>-->

<!--                       <li> <a class="page-link" href="${pglink}${cpg-1}">이전</a></li>

                        <ul class="pagination justify-content-center">
                            <li th:each="i : ${#numbers.sequence(stpg, stpg + 9)}"
                                th:classappend="${i eq cpg} ? 'page-item active' : 'page-item'">
                                <a class="page-link" th:href="${pglink}${i}" th:text="${i}"></a>
                            </li>
                        </ul>-->

                        <ul class="pagination justify-content-center">
                            <li th:class="${cpg gt 1} ? 'page-item' : 'page-item disabled'">
                                <a class="page-link" href="${pglink}1">처음</a>
                            </li>
                            <li th:class="${cpg-1 gt 0} ? 'page-item' : 'page-item disabled'">
                                <a class="page-link" href="${pglink}${cpg-1}">이전</a>
                            </li>
                            <li th:each="i : ${#numbers.sequence(stpg, stpg + 9)}"
                                th:classappend="${i eq cpg} ? 'page-item active' : 'page-item'">
                                <a class="page-link" th:href="${pglink}${i}" th:text="${i}"></a>
                            </li>
                            <li th:class="${cpg lt cntpg} ? 'page-item' : 'page-item disabled'">
                                <a class="page-link" href="${pglink}${cpg+1}">다음</a>
                            </li>
                            <li th:class="${cpg lt cntpg} ? 'page-item' : 'page-item disabled'">
                                <a class="page-link" href="${pglink}${cntpg}">끝</a>
                            </li>
                        </ul>



                 <!--       <a class="page-link" href="${pglink}${cpg+1}">다음</a></li>

                        <c:if test="${cpg lt cntpg}">
                            <a class="page-link" href="${pglink}${cntpg}">끝</a></li>
                        </c:if>-->

                        <li class="page-item" th:classappend="${cpg lt cntpg} ? '' : 'disabled'">
                            <a class="page-link" th:href="${pglink}${cpg+1}">다음</a>
                        </li>
                        <li class="page-item" th:classappend="${cpg lt cntpg} ? '' : 'disabled'">
                            <a class="page-link" th:href="${pglink}${cntpg}">끝</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>








    </div>
<script src="/assets/js/board.js"></script>
</th:block>
</html>